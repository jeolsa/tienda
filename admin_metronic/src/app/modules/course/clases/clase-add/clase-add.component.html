<div class="row">
  <div class="col-6">
    <div class="card">
      <!--begin::Card header-->
      <div class="card-header ">
        <div class="card-title fs-3 fw-bolder">Nueva clase</div>
      </div>
      <!--end::Card header-->
      <!--begin::Form-->
      <form id="kt_project_settings_form" class="form fv-plugins-bootstrap5 fv-plugins-framework"
        novalidate="novalidate">
        <span class="spinner-border spinner-border-sm align-middle ms-2" *ngIf="isLoading |async"></span>
        <div class="card-body p-9">

          <div class="row mb-8">

            <div class="col-12">
              <label class="fs-6 fw-bold mt-2 mb-3">Nombre de la clase</label>
              <input type="text" class="form-control form-control-solid" [(ngModel)]="title" name="title">
            </div>

          </div>

          <div class="row mb-8">
            <div class="col-xl-12 fv-row fv-plugins-icon-container">
              <div class="fs-6 fw-bold mt-2 mb-3">Descripcion</div>
              <ckeditor [data]="description" (change)="onChange($event)"></ckeditor>
            </div>
          </div>

          <div class="row mb-8">

            <div class="col-12">
              <label class="fs-6 fw-bold mt-2 mb-3">Sube los recursos de la clase</label>

            </div>
            <div class="col-12">
              <div class="custom-file">
                  <input type="file" class="form-control" #fileUploader id="custom-file" multiple (change)="processFiles($event)">
              </div>
            </div>
            <div class="col-12 text-center">
              <br>
              <hr style="width:50%; margin: auto;">
              <div class="card card-flush">
                <div class="card-header pt-7">
                  <h3 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bolder text-dark">Archivos cargados</span>
                    <!--<span class="text-gray-400 mt-1 fw-bold fs-6">1M Products Shipped so far</span>-->
                  </h3>
                </div>

                <div class="card-body">
                  <!--begin::Scroll-->
                  <div class="hover-scroll-overlay-y pe-6 me-n6">
                    <ng-container *ngFor="let FILE of FILES">
                      <div class="rounded border-gray-300 border-1 border-gray-300 border-dashed px-7 py-3 mb-6">

                        <div class="d-flex flex-stack mb-3">

                          <div class="me-3">

                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-file-earmark-text" viewBox="0 0 16 16">
                              <path d="M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"/>
                              <path d="M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"/>
                            </svg>

                            <a href="#" onclick="return false" class="text-gray-800 text-hover-primary fw-bolder">{{ FILE.name }}</a>

                          </div>

                        </div>


                        <div class="d-flex flex-stack">

                          <span class="text-gray-400 fw-bolder">Size:
                          <a href="#" onclick="return false" class="text-gray-800 text-hover-primary fw-bolder">{{ FILE.size }} KB</a></span>


                          <span class="badge badge-light-success">Activo</span>

                        </div>

                      </div>
                    </ng-container>

                  </div>
                  <!--end::Scroll-->
                </div>

              </div>
            </div>
          </div>

          <div class="card-footer d-flex justify-content-end py-6 px-9">
            <button type="button" (click)="addClase()" class="btn btn-primary"
              id="kt_project_settings_submit">Guardar</button>
          </div>
          <input type="hidden">
        </div>
      </form>
    </div>
  </div>
  <div class="col-6">
    <div class="card card-xl-stretch mb-xl-8">
      <!--begin::Header-->
      <div class="card-header border-0 pt-5">
        <h3 class="card-title align-items-start flex-column">
          <span class="card-label fw-bolder fs-3 mb-1">Clases</span>
          <span class="text-muted mt-1 fw-bold fs-7">Lista de clases de la sección</span>
        </h3>

      </div>
      <!--end::Header-->
      <!--begin::Body-->
      <div class="card-body py-3">
        <div class="tab-content">
          <!--begin::Tap pane-->
          <div class="tab-pane fade show active" id="kt_table_widget_7_tab_1">
            <!--begin::Table container-->
            <div class="table-responsive">
              <!--begin::Table-->
              <table class="table align-middle gs-0 gy-3">
                <!--begin::Table head-->
                <thead>
                  <tr>
                    <th class="p-0 w-50px"></th>
                    <th class="p-0 min-w-150px"></th>
                    <th class="p-0 min-w-140px"></th>
                    <th class="p-0 min-w-120px"></th>
                  </tr>
                </thead>
                <!--end::Table head-->
                <!--begin::Table body-->
                <tbody>
                  <ng-container *ngFor="let CLASE of CLASES, let i=index">
                    <tr>
                      <td>
                        <div class="symbol symbol-50px me-2">
                          <span class="">
                            <!--begin::Svg Icon | path: icons/duotune/coding/cod002.svg-->
                            <span class="svg-icon svg-icon-2x svg-icon-primary">
                              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path opacity="0.3"
                                  d="M21.25 18.525L13.05 21.825C12.35 22.125 11.65 22.125 10.95 21.825L2.75 18.525C1.75 18.125 1.75 16.725 2.75 16.325L4.04999 15.825L10.25 18.325C10.85 18.525 11.45 18.625 12.05 18.625C12.65 18.625 13.25 18.525 13.85 18.325L20.05 15.825L21.35 16.325C22.35 16.725 22.35 18.125 21.25 18.525ZM13.05 16.425L21.25 13.125C22.25 12.725 22.25 11.325 21.25 10.925L13.05 7.62502C12.35 7.32502 11.65 7.32502 10.95 7.62502L2.75 10.925C1.75 11.325 1.75 12.725 2.75 13.125L10.95 16.425C11.65 16.725 12.45 16.725 13.05 16.425Z"
                                  fill="currentColor"></path>
                                <path
                                  d="M11.05 11.025L2.84998 7.725C1.84998 7.325 1.84998 5.925 2.84998 5.525L11.05 2.225C11.75 1.925 12.45 1.925 13.15 2.225L21.35 5.525C22.35 5.925 22.35 7.325 21.35 7.725L13.05 11.025C12.45 11.325 11.65 11.325 11.05 11.025Z"
                                  fill="currentColor"></path>
                              </svg>
                            </span>
                            <!--end::Svg Icon-->
                          </span>
                        </div>
                      </td>
                      <td>
                        <a href="#" onclick="return false" class="text-dark fw-bolder text-hover-primary mb-1 fs-6">{{ CLASE.name }}</a>
                        <span class="text-muted fw-bold d-block fs-7">Clase: {{ i + 1}}</span>
                      </td>
                      <td class="text-end">
                        <span class="text-muted fw-bold d-block fs-8" *ngIf="!CLASE.time">0</span>
                        <span class="text-muted fw-bold d-block fs-8" *ngIf="CLASE.time">{{ CLASE.time }}</span>
                        <span class="text-dark fw-bolder d-block fs-7">Duración</span>
                      </td>
                      <td class="text-end">
                        <span class="badge badge-light-success fs-7 fw-bolder" *ngIf="CLASE.state == 1">Activa</span>
                        <span class="badge badge-light-danger fs-7 fw-bolder" *ngIf="CLASE.state == 2">Inactiva</span>

                      </td>
                      <td class="text-end">

                        <a href="#" onclick="return false;" class="btn btn-icon btn-active-color-primary btn-sm me-1"
                          (click)="editClase(CLASE)" title="Editar">
                          <i class="bi bi-pencil-square"></i>
                        </a>
                        <a href="#" onclick="return false;" class="btn btn-icon btn-active-color-primary btn-sm"
                          (click)="deleteClase(CLASE)" title="Eliminar">
                          <i class="bi bi-trash-fill"></i>
                        </a>
                      </td>
                    </tr>
                  </ng-container>


                </tbody>
                <!--end::Table body-->
              </table>
            </div>
            <!--end::Table-->
          </div>
          <!--end::Tap pane-->

        </div>
      </div>
      <!--end::Body-->
    </div>

  </div>
</div>
